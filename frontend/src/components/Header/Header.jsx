import "./Header.css";
import LoginPopUp from "../LoginPopUp.jsx";
import RegisterPopUp from "../RegisterPopUp.jsx";
import { Link, NavLink } from "react-router-dom";
import { useContext, useState } from "react";
import LogoutButton from "../LogoutButton.jsx";
import { userContext } from "../../context/Context.jsx";

const Header = () => {
  const { user } = useContext(userContext);

  // states to toggle login/register-components
  const [login, setLogin] = useState(false);
  const [register, setRegister] = useState(false);

  return (
    <header>
      <Link to="/dashboard">
        <h1>
          The Bookstore <span>.</span>
        </h1>
      </Link>

      <nav>
        {/* //# open input field for search */}
        {/* search-icon */}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="27"
          height="24"
          viewBox="0 0 21 21"
          fill="none"
        >
          <path
            d="M15.0833 13.3333H14.1617L13.835 13.0183C14.9783 11.6883 15.6667 9.96167 15.6667 8.08333C15.6667 3.895 12.2717 0.5 8.08333 0.5C3.895 0.5 0.5 3.895 0.5 8.08333C0.5 12.2717 3.895 15.6667 8.08333 15.6667C9.96167 15.6667 11.6883 14.9783 13.0183 13.835L13.3333 14.1617V15.0833L19.1667 20.905L20.905 19.1667L15.0833 13.3333ZM8.08333 13.3333C5.17833 13.3333 2.83333 10.9883 2.83333 8.08333C2.83333 5.17833 5.17833 2.83333 8.08333 2.83333C10.9883 2.83333 13.3333 5.17833 13.3333 8.08333C13.3333 10.9883 10.9883 13.3333 8.08333 13.3333Z"
            fill="white"
          />
        </svg>

        <NavLink to="/cart">
          {/* cart-icon */}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="27"
            height="24"
            viewBox="0 0 27 24"
            fill="none"
          >
            <path
              d="M0 1.125C0 0.501562 0.502991 0 1.12821 0H3.26709C4.30128 0 5.21795 0.6 5.64573 1.5H24.9662C26.2026 1.5 27.1051 2.67188 26.7808 3.8625L24.8534 11.0016C24.4538 12.4734 23.1141 13.5 21.5863 13.5H8.02436L8.27821 14.8359C8.38162 15.3656 8.84701 15.75 9.38761 15.75H22.9402C23.5654 15.75 24.0684 16.2516 24.0684 16.875C24.0684 17.4984 23.5654 18 22.9402 18H9.38761C7.76111 18 6.36496 16.8469 6.0641 15.2578L3.63846 2.55469C3.60556 2.37656 3.45043 2.25 3.26709 2.25H1.12821C0.502991 2.25 0 1.74844 0 1.125ZM6.01709 21.75C6.01709 21.4545 6.07546 21.1619 6.18885 20.889C6.30225 20.616 6.46845 20.3679 6.67798 20.159C6.88751 19.9501 7.13625 19.7843 7.41001 19.6713C7.68377 19.5582 7.97719 19.5 8.2735 19.5C8.56982 19.5 8.86323 19.5582 9.13699 19.6713C9.41076 19.7843 9.6595 19.9501 9.86903 20.159C10.0786 20.3679 10.2448 20.616 10.3582 20.889C10.4716 21.1619 10.5299 21.4545 10.5299 21.75C10.5299 22.0455 10.4716 22.3381 10.3582 22.611C10.2448 22.884 10.0786 23.1321 9.86903 23.341C9.6595 23.5499 9.41076 23.7157 9.13699 23.8287C8.86323 23.9418 8.56982 24 8.2735 24C7.97719 24 7.68377 23.9418 7.41001 23.8287C7.13625 23.7157 6.88751 23.5499 6.67798 23.341C6.46845 23.1321 6.30225 22.884 6.18885 22.611C6.07546 22.3381 6.01709 22.0455 6.01709 21.75ZM21.812 19.5C22.4104 19.5 22.9843 19.7371 23.4075 20.159C23.8306 20.581 24.0684 21.1533 24.0684 21.75C24.0684 22.3467 23.8306 22.919 23.4075 23.341C22.9843 23.7629 22.4104 24 21.812 24C21.2135 24 20.6396 23.7629 20.2164 23.341C19.7933 22.919 19.5556 22.3467 19.5556 21.75C19.5556 21.1533 19.7933 20.581 20.2164 20.159C20.6396 19.7371 21.2135 19.5 21.812 19.5Z"
              fill="white"
            />
          </svg>
        </NavLink>
        <NavLink to="/bookmarks">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
            width="27"
            height="24"
            fill="none"
            strokeWidth={"40px"}
            stroke="white"
          >
            <path d="M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z" />
          </svg>
        </NavLink>
        <NavLink to="/user/:id">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="27"
            height="24"
            viewBox="0 0 21 24"
            fill="none"
          >
            <path
              d="M14.1978 6C14.1978 5.00544 13.8042 4.05161 13.1035 3.34835C12.4028 2.64509 11.4525 2.25 10.4615 2.25C9.47062 2.25 8.52029 2.64509 7.8196 3.34835C7.11892 4.05161 6.72528 5.00544 6.72528 6C6.72528 6.99456 7.11892 7.94839 7.8196 8.65165C8.52029 9.35491 9.47062 9.75 10.4615 9.75C11.4525 9.75 12.4028 9.35491 13.1035 8.65165C13.8042 7.94839 14.1978 6.99456 14.1978 6ZM4.48352 6C4.48352 4.4087 5.11334 2.88258 6.23444 1.75736C7.35554 0.632141 8.87607 0 10.4615 0C12.047 0 13.5675 0.632141 14.6886 1.75736C15.8097 2.88258 16.4396 4.4087 16.4396 6C16.4396 7.5913 15.8097 9.11742 14.6886 10.2426C13.5675 11.3679 12.047 12 10.4615 12C8.87607 12 7.35554 11.3679 6.23444 10.2426C5.11334 9.11742 4.48352 7.5913 4.48352 6ZM2.30247 21.75H18.6206C18.2049 18.7828 15.6643 16.5 12.5959 16.5H8.3272C5.25879 16.5 2.71813 18.7828 2.30247 21.75ZM0 22.6078C0 17.9906 3.72692 14.25 8.3272 14.25H12.5959C17.1962 14.25 20.9231 17.9906 20.9231 22.6078C20.9231 23.3766 20.3019 24 19.536 24H1.38709C0.621154 24 0 23.3766 0 22.6078Z"
              fill="white"
            />
          </svg>
        </NavLink>
        {user ? (
          <LogoutButton />
        ) : (
          <div>
            <LoginPopUp
              login={login}
              setLogin={setLogin}
              setRegister={setRegister}
            />
            <RegisterPopUp
              register={register}
              setRegister={setRegister}
              setLogin={setLogin}
            />
          </div>
        )}
      </nav>
    </header>
  );
};

export default Header;
